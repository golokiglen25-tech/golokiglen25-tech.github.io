<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The K30,000 Project | Architect's Dashboard</title>
    <style>
        :root { --primary: #004a99; --accent: #e67e22; --bg: #f4f7f6; --white: #ffffff; --success: #27ae60; --dark: #2c3e50; }
        body { font-family: 'Segoe UI', sans-serif; line-height: 1.6; color: var(--dark); background: var(--bg); margin: 0; padding-bottom: 50px; }
        nav { background: var(--primary); padding: 15px; text-align: left; position: sticky; top: 0; z-index: 1000; }
        nav a { color: white; text-decoration: none; font-weight: bold; margin-right: 20px; }
        header { background: var(--dark); color: white; padding: 2rem 1rem; text-align: center; border-bottom: 5px solid var(--accent); }
       .container { max-width: 950px; margin: 0 auto; padding: 0 15px; }
       .card { background: var(--white); padding: 1.5rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-top: 2rem; }
        h2 { color: var(--accent); border-bottom: 2px solid #eee; margin-top: 0; padding-bottom: 10px; }
        h3 { color: var(--primary); margin-top: 1.5rem; }
        img { max-width: 100%; border-radius: 8px; margin: 15px 0; border: 1px solid #ddd; }
        
        /* Dashboard Stats */
       .budget-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
       .stat-box { background: #f9f9f9; padding: 20px; border-radius: 8px; text-align: center; border: 1px solid #eee; }
       .stat-val { font-size: 1.8rem; font-weight: bold; display: block; }
        
        /* Timeline Bricks */
       .stage { border-left: 4px solid var(--primary); padding-left: 20px; margin-bottom: 30px; position: relative; }
       .stage-check { transform: scale(1.5); margin-bottom: 10px; }
       .progress-container { background: #eee; border-radius: 20px; height: 25px; margin: 20px 0; overflow: hidden; }
        #progressBar { background: var(--success); height: 100%; width: 0%; transition: width 0.5s; }

        /* Tech Specs Grid */
       .spec-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
       .blueprint { background: #222; color: #0f0; padding: 1rem; border-radius: 6px; font-family: monospace; white-space: pre; overflow-x: auto; font-size: 0.85rem; }
        
        @media print {.no-print, nav, button, input { display: none!important; } }
    </style>
</head>
<body>

<nav>
    <a href="index.html">üè† Tech Hub</a>
    <a href="shop.html">üõí Shop</a>
</nav>

<header>
    <h1>The K30,000 Project</h1>
    <p>3-Bedroom Elevated PNG Home | Architect's Step-by-Step Guide</p>
</header>

<div class="container">

    <div class="card">
        <h2>üí∞ Budget Dashboard</h2>
        <div class="budget-grid">
            <div class="stat-box"><h3>Total Spent</h3><span id="totalSpent" class="stat-val">K0</span></div>
            <div class="stat-box"><h3>Available</h3><span id="balance" class="stat-val" style="color: var(--success);">K30,000</span></div>
        </div>
        <div class="no-print" style="display: flex; gap: 10px; margin-bottom: 15px;">
            <input type="text" id="itemName" placeholder="Item Name (e.g. Nails)">
            <input type="number" id="itemCost" placeholder="Cost (K)">
            <button onclick="addExpense()" style="background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Add</button>
        </div>
        <div id="expenseList"></div>
    </div>

    <div class="card">
        <h2>üèóÔ∏è Construction Timeline: <span id="progressPercent">0%</span></h2>
        <div class="progress-container"><div id="progressBar"></div></div>
        
        <div class="stage">
            <input type="checkbox" class="stage-check" onchange="updateProgress()">
            <h3>Stage 1-2: Localization & Geotechnical</h3>
            <p>Clear 12m x 7m site. Use <strong>3-4-5 rule</strong> for squaring. Dig 15 holes at 600mm-900mm depth.[1, 2] Place concrete "sole plates" to prevent post sinking.</p>
            <img src="week1-foundation.png" alt="Foundation Stage">
        </div>

        <div class="stage">
            <input type="checkbox" class="stage-check" onchange="updateProgress()">
            <h3>Stage 3-4: Substructure & 2m Posts</h3>
            <p>Install 150mm sq hardwood posts. Treat bases with used engine oil to stop rot.[2] Use <strong>Housed Joints</strong> (50mm notches) to seat 140x90mm bearers.</p>
            <img src="post-grid.png" alt="Underneath 15 Posts">
        </div>

        <div class="stage">
            <input type="checkbox" class="stage-check" onchange="updateProgress()">
            <h3>Stage 5-6: Floor & Wall Frames</h3>
            <p>Lay 100x45mm joists at 450mm centers. Nail 19mm hardwood planks with 2mm tropical expansion gaps.[2] Build wall frames flat using <strong>Platform Framing</strong> method.[3]</p>
        </div>

        <div class="stage">
            <input type="checkbox" class="stage-check" onchange="updateProgress()">
            <h3>Stage 7-8: Roofing & Saksak Treatment</h3>
            <p>Install 0.42mm Zinc-Alum iron with <strong>cyclone washers</strong>. Treat bamboo for walls in a <strong>10% Borax solution</strong> (3kg Borax + 2kg Boric Acid per 45L water) for 14 days.[4, 2]</p>
        </div>

        <div class="stage">
            <input type="checkbox" class="stage-check" onchange="updateProgress()">
            <h3>Stage 9-10: Bilas Cladding & Off-Grid MEP</h3>
            <p>Weave "Saksak Bilas" onto wall frames.[5] Install 10-amp solar kit and connect rainwater harvest to an elevated 1350L Tuffa tank.</p>
            <img src="house-final.png" alt="Final Result Poster">
        </div>
    </div>

    <div class="card">
        <h2>üõãÔ∏è Interior Concepts</h2>
        <div class="spec-grid">
            <div>
                <h4>Master Bedroom</h4>
                <img src="master-bedroom.png" alt="Master Interior">
            </div>
            <div>
                <h4>Kids Bunk Room</h4>
                <img src="kids-room.png" alt="Kids Interior">
            </div>
        </div>
        <p>Architect's Tip: Use 30% <strong>Brian Bell Super Fund discounts</strong> for furniture and solar kits to save up to K6,500.</p>
    </div>

    <button onclick="window.print()" style="width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 20px;">üñ®Ô∏è Print Technical Building Report (PDF)</button>

</div>

<script>
    let expenses = JSON.parse(localStorage.getItem('houseExpenses')) ||;
    const budget = 30000;

    function addExpense() {
        const name = document.getElementById('itemName').value;
        const cost = parseFloat(document.getElementById('itemCost').value);
        if (name && cost) { expenses.push({ name, cost }); updateUI(); document.getElementById('itemName').value = ''; document.getElementById('itemCost').value = ''; }
    }

    function deleteExpense(index) { expenses.splice(index, 1); updateUI(); }

    function updateUI() {
        const list = document.getElementById('expenseList'); list.innerHTML = '';
        let total = expenses.reduce((sum, item) => sum + item.cost, 0);
        expenses.forEach((item, index) => {
            list.innerHTML += `<div style="display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid #eee;">${item.name} <span>K${item.cost.toLocaleString()} <span style="color:red; cursor:pointer;" onclick="deleteExpense(${index})">√ó</span></span></div>`;
        });
        const bal = budget - total;
        document.getElementById('totalSpent').innerText = `K${total.toLocaleString()}`;
        document.getElementById('balance').innerText = `K${bal.toLocaleString()}`;
        document.getElementById('balance').style.color = bal < 0? 'red' : 'green';
        localStorage.setItem('houseExpenses', JSON.stringify(expenses));
    }

    function updateProgress() {
        const checks = document.querySelectorAll('.stage-check');
        let done = 0;
        checks.forEach(c => { if(c.checked) done++; });
        const pct = Math.round((done / checks.length) * 100);
        document.getElementById('progressBar').style.width = pct + '%';
        document.getElementById('progressPercent').innerText = pct + '%';
    }

    updateUI();
</script>

</body>
</html>
